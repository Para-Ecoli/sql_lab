-- 创建并录入表S444
CREATE TABLE S444(
    S# VARCHAR(8) PRIMARY KEY,
    SNAME VARCHAR(40),
    SEX VARCHAR(3),
    BDATE DATE,
    HEIGHT FLOAT4,
    DORM VARCHAR(40)
);
 
INSERT INTO S444 (S#, SNAME, SEX, BDATE, HEIGHT, DORM)
VALUES  ('01032010', '王涛', '男', '2003-4-5', 1.72, '东 6 舍 221'),
        ('01032023', '孙文', '男', '2004-6-10', 1.80, '东 6 舍 221'),
        ('01032001', '张晓梅', '女', '2003-11-17', 1.58, '东 1 舍 312'),
        ('01032005', '刘静', '女', '2003-1-10', 1.63, '东 1 舍 312'),
        ('01032112', '董喆', '男', '2003-2-20', 1.71, '东 6 舍 221'),
        ('03031011', '王倩', '女', '2004-12-20', 1.66, '东 2 舍 104'),
        ('03031014', '赵思扬', '男', '2002-6-6', 1.85, '东 18 舍 421'),
        ('03031051', '周剑', '男', '2002-5-8', 1.68, '东 18 舍 422'),
        ('03031009', '田菲', '女', '2003-8-11', 1.60, '东 2 舍 104'),
        ('03031033', '蔡明明', '男', '2003-3-12', 1.75, '东 18 舍 423'),
        ('03031056', '曹子衿', '女', '2005-12-15', 1.65, '东 2 舍 305');

-- 创建并录入表C444
CREATE TABLE C444(
    C# VARCHAR(5) PRIMARY KEY,
    CNAME VARCHAR(60),
    PERIOD INT2,
    CREDIT FLOAT4,
    TEACHER VARCHAR(40)
);

INSERT INTO C444 (C#, CNAME, PERIOD, CREDIT, TEACHER)
VALUES  ('CS-01', '数据结构', 60, 3, '张军'),
        ('CS-02', '计算机组成原理', 80, 4, '王亚伟'),
        ('CS-04', '人工智能', 40, 2, '李蕾'),
        ('CS-05', '深度学习', 40, 2, '崔昀'),
        ('EE-01', '信号与系统', 60, 3, '张明'),
        ('EE-02', '数字逻辑电路', 100, 5, '胡海东'),
        ('EE-03', '光电子学与光子学', 40, 2, '石韬');

-- 创建并录入表SC444
CREATE TABLE SC444(
    S# VARCHAR(8),
    C# VARCHAR(5),
    GRADE FLOAT4,
    PRIMARY KEY (S#, C#),
    FOREIGN KEY (S#) REFERENCES S444(S#),
    FOREIGN KEY (C#) REFERENCES C444(C#)
);

INSERT INTO SC444 (S#, C#, GRADE)
VALUES  ('01032010', 'CS-01', 82.0),
        ('01032010', 'CS-02', 91.0),
        ('01032010', 'CS-04', 83.5),
        ('01032001', 'CS-01', 77.5),
        ('01032001', 'CS-02', 85.0),
        ('01032001', 'CS-04', 83.0),
        ('01032005', 'CS-01', 62.0),
        ('01032005', 'CS-02', 77.0),
        ('01032005', 'CS-04', 82.0),
        ('01032023', 'CS-01', 55.0),
        ('01032023', 'CS-02', 81.0),
        ('01032023', 'CS-04', 76.0),
        ('01032112', 'CS-01', 88.0),
        ('01032112', 'CS-02', 91.5),
        ('01032112', 'CS-04', 86.0),
        ('01032112', 'CS-05', NULL),
        ('03031033', 'EE-01', 93.0),
        ('03031033', 'EE-02', 89.0),
        ('03031009', 'EE-01', 88.0),
        ('03031009', 'EE-02', 78.5),
        ('03031011', 'EE-01', 91.0),
        ('03031011', 'EE-02', 86.0),
        ('03031051', 'EE-01', 78.0),
        ('03031051', 'EE-02', 58.0),
        ('03031014', 'EE-01', 79.0),
        ('03031014', 'EE-02', 71.0);

-- 查询各表及属性信息
SELECT relname AS 表名, relkind AS 类型, relpersistence AS 存储方式
FROM pg_class
WHERE  relname='s444'
    OR relname='c444'
    OR relname='sc444';
